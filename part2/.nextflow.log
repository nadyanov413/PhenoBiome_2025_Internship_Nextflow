Oct-17 14:49:30.411 [main] DEBUG nextflow.cli.Launcher - $> nextflow run bio-pipeline.nf -profile batch --outdir 's3://aws-nextflow-test-bucket/results' -bucket-dir 's3://aws-nextflow-test-bucket/work'
Oct-17 14:49:30.451 [main] DEBUG nextflow.cli.CmdRun - N E X T F L O W  ~  version 25.04.6
Oct-17 14:49:30.463 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/Users/nadyanovichkova/.nextflow/plugins; core-plugins: nf-amazon@2.15.0,nf-azure@1.16.0,nf-cloudcache@0.4.3,nf-codecommit@0.2.3,nf-console@1.2.1,nf-google@1.21.1,nf-k8s@1.0.0,nf-tower@1.11.4,nf-wave@1.12.1
Oct-17 14:49:30.485 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Oct-17 14:49:30.486 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Oct-17 14:49:30.487 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.12.0 in 'deployment' mode
Oct-17 14:49:30.492 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Oct-17 14:49:30.500 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /Users/nadyanovichkova/Projects/PhenoBiome2025/final-project/part2/nextflow.config
Oct-17 14:49:30.502 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /Users/nadyanovichkova/Projects/PhenoBiome2025/final-project/part2/nextflow.config
Oct-17 14:49:30.515 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /Users/nadyanovichkova/.nextflow/secrets/store.json
Oct-17 14:49:30.517 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@61e45f87] - activable => nextflow.secret.LocalSecretsProvider@61e45f87
Oct-17 14:49:30.522 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `batch`
Oct-17 14:49:30.726 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [standard, batch]
Oct-17 14:49:30.740 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 by global default
Oct-17 14:49:30.747 [main] DEBUG nextflow.cli.CmdRun - Launching `bio-pipeline.nf` [goofy_turing] DSL2 - revision: 85d6072a91
Oct-17 14:49:30.747 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[nf-amazon@2.15.0]
Oct-17 14:49:30.748 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[nf-amazon@2.15.0]
Oct-17 14:49:30.748 [main] DEBUG nextflow.plugin.PluginUpdater - Installing plugin nf-amazon version: 2.15.0
Oct-17 14:49:30.758 [main] INFO  org.pf4j.AbstractPluginManager - Plugin 'nf-amazon@2.15.0' resolved
Oct-17 14:49:30.758 [main] INFO  org.pf4j.AbstractPluginManager - Start plugin 'nf-amazon@2.15.0'
Oct-17 14:49:30.796 [main] DEBUG nextflow.plugin.BasePlugin - Plugin started nf-amazon@2.15.0
Oct-17 14:49:30.806 [main] DEBUG nextflow.file.FileHelper - > Added 'S3FileSystemProvider' to list of installed providers [s3]
Oct-17 14:49:30.828 [main] DEBUG nextflow.Session - Session UUID: f81a213d-5bfb-4968-85e8-05aaf68538bb
Oct-17 14:49:30.829 [main] DEBUG nextflow.Session - Run name: goofy_turing
Oct-17 14:49:30.829 [main] DEBUG nextflow.Session - Executor pool size: 10
Oct-17 14:49:30.832 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
Oct-17 14:49:30.834 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=30; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
Oct-17 14:49:30.850 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 25.04.6 build 5954
  Created: 01-07-2025 11:27 UTC (04:27 PDT)
  System: Mac OS X 15.2
  Runtime: Groovy 4.0.26 on OpenJDK 64-Bit Server VM 24.0.2
  Encoding: UTF-8 (UTF-8)
  Process: 77415@Mac.lan [192.168.12.123]
  CPUs: 10 - Mem: 16 GB (79.7 MB) - Swap: 3 GB (1.2 GB)
Oct-17 14:49:30.855 [main] DEBUG nextflow.Session - Work-dir: /Users/nadyanovichkova/Projects/PhenoBiome2025/final-project/part2/work [Mac OS X]
Oct-17 14:49:30.860 [main] DEBUG nextflow.file.FileHelper - Creating a file system instance for provider: S3FileSystemProvider
Oct-17 14:49:30.865 [main] DEBUG nextflow.cloud.aws.config.AwsConfig - AWS S3 config properties: {max_error_retry=5}
Oct-17 14:49:30.966 [main] DEBUG nextflow.cloud.aws.AwsClientFactory - Merging AWS credentials file '/Users/nadyanovichkova/.aws/credentials' and config file '/Users/nadyanovichkova/.aws/config'
Oct-17 14:49:31.144 [main] DEBUG nextflow.Session - Bucket-dir: s3://aws-nextflow-test-bucket/work
Oct-17 14:49:31.145 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /Users/nadyanovichkova/Projects/PhenoBiome2025/final-project/part2/bin
Oct-17 14:49:31.161 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[AwsBatchExecutor]
Oct-17 14:49:31.166 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Oct-17 14:49:31.168 [main] DEBUG nextflow.Session - Observer factory (v2): LinObserverFactory
Oct-17 14:49:31.176 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Oct-17 14:49:31.180 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 11; maxThreads: 1000
Oct-17 14:49:31.204 [main] DEBUG nextflow.Session - Session start
Oct-17 14:49:31.375 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Oct-17 14:49:31.379 [main] INFO  nextflow.Nextflow - 
R N A S E Q - N F   P I P E L I N E
===================================
transcriptome: /Users/nadyanovichkova/Projects/PhenoBiome2025/final-project/part2/data/transcriptome.fa 
reads        : /Users/nadyanovichkova/Projects/PhenoBiome2025/final-project/part2/data/gut_{1,2}.fq
outdir       : s3://aws-nextflow-test-bucket/results

Oct-17 14:49:31.430 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Oct-17 14:49:31.430 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Oct-17 14:49:31.432 [main] DEBUG nextflow.executor.Executor - [warm up] executor > awsbatch
Oct-17 14:49:31.436 [main] DEBUG nextflow.util.ThrottlingExecutor - Creating throttling executor with opts: nextflow.util.ThrottlingExecutor$Options(poolName:AWSBatch-executor, limiter:RateLimiter[stableRate=50.0qps], poolSize:50, maxPoolSize:50, queueSize:5000, maxRetries:10, keepAlive:1m, autoThrottle:true, errorBurstDelay:1s, rampUpInterval:100, rampUpFactor:1.2, rampUpMaxRate:1.7976931348623157E308, backOffFactor:2.0, backOffMinRate:0.0166666667, retryDelay:1s)
Oct-17 14:49:31.438 [main] DEBUG nextflow.util.ThrottlingExecutor - Creating throttling executor with opts: nextflow.util.ThrottlingExecutor$Options(poolName:AWSBatch-reaper, limiter:RateLimiter[stableRate=50.0qps], poolSize:50, maxPoolSize:50, queueSize:5000, maxRetries:10, keepAlive:1m, autoThrottle:true, errorBurstDelay:1s, rampUpInterval:100, rampUpFactor:1.2, rampUpMaxRate:1.7976931348623157E308, backOffFactor:2.0, backOffMinRate:0.0166666667, retryDelay:1s)
Oct-17 14:49:31.439 [main] DEBUG n.cloud.aws.batch.AwsBatchExecutor - Creating parallel monitor for executor 'awsbatch' > pollInterval=10s; dumpInterval=5m
Oct-17 14:49:31.441 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: awsbatch)
Oct-17 14:49:31.442 [main] DEBUG nextflow.cloud.aws.AwsClientFactory - Merging AWS credentials file '/Users/nadyanovichkova/.aws/credentials' and config file '/Users/nadyanovichkova/.aws/config'
Oct-17 14:49:31.456 [main] DEBUG n.cloud.aws.batch.AwsBatchExecutor - [AWS BATCH] Executor options=AwsOptions(remoteBinDir:null, fetchInstanceType:false, region:us-east-1, jobRole:null, logsGroup:null, retryMode:standard, shareIdentifier:null, schedulingPriority:0, cliPath:/usr/local/bin/aws, volumes:[], maxParallelTransfers:4, maxTransferAttempts:5, maxSpotAttempts:null, delayBetweenAttempts:10s, storageClass:null, storageEncryption:null, storageKmsKeyId:null, s3Acl:null, debug:null, requesterPays:null, awsCli:/usr/local/bin/aws --region us-east-1, fargateMode:false, s5cmdPath:null, executionRole:arn:aws:iam::973116293246:role/BatchEcsTaskExecutionRole)
Oct-17 14:49:31.464 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'INDEX': maxForks=0; fair=false; array=0
Oct-17 14:49:31.481 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Oct-17 14:49:31.481 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Oct-17 14:49:31.481 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'QUANTIFICATION': maxForks=0; fair=false; array=0
Oct-17 14:49:31.483 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Oct-17 14:49:31.483 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Oct-17 14:49:31.483 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'FASTQC': maxForks=0; fair=false; array=0
Oct-17 14:49:31.489 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Oct-17 14:49:31.489 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Oct-17 14:49:31.490 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'MULTIQC': maxForks=0; fair=false; array=0
Oct-17 14:49:31.491 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: FASTQC, QUANTIFICATION, MULTIQC, INDEX
Oct-17 14:49:31.491 [main] DEBUG nextflow.Session - Igniting dataflow network (6)
Oct-17 14:49:31.493 [PathVisitor-1] DEBUG nextflow.file.PathVisitor - files for syntax: glob; folder: /Users/nadyanovichkova/Projects/PhenoBiome2025/final-project/part2/data/; pattern: gut_{1,2}.fq; options: [checkIfExists:true]
Oct-17 14:49:31.494 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > INDEX
Oct-17 14:49:31.494 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > QUANTIFICATION
Oct-17 14:49:31.494 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > FASTQC
Oct-17 14:49:31.494 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > MULTIQC
Oct-17 14:49:31.494 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_b3501537468abdab: /Users/nadyanovichkova/Projects/PhenoBiome2025/final-project/part2/bio-pipeline.nf
Oct-17 14:49:31.494 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Oct-17 14:49:31.494 [main] DEBUG nextflow.Session - Session await
Oct-17 14:49:33.502 [FileTransfer-1] DEBUG nextflow.file.FilePorter - Copying foreign file /Users/nadyanovichkova/Projects/PhenoBiome2025/final-project/part2/data/transcriptome.fa to work dir: s3://aws-nextflow-test-bucket/work/stage-f81a213d-5bfb-4968-85e8-05aaf68538bb/1e/bb76088efc570c9d2e2c3cdc0faee2/transcriptome.fa
Oct-17 14:49:33.655 [FileTransfer-1] DEBUG n.cloud.aws.nio.S3FileSystemProvider - S3 upload file from=/Users/nadyanovichkova/Projects/PhenoBiome2025/final-project/part2/data/transcriptome.fa to=s3://aws-nextflow-test-bucket/work/stage-f81a213d-5bfb-4968-85e8-05aaf68538bb/1e/bb76088efc570c9d2e2c3cdc0faee2/transcriptome.fa
Oct-17 14:49:33.656 [FileTransfer-1] DEBUG nextflow.cloud.aws.nio.S3Client - Creating S3 transfer manager pool - chunk-size=104857600; max-treads=10;
Oct-17 14:49:33.656 [FileTransfer-1] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'S3TransferManager' minSize=10; maxSize=10; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
Oct-17 14:49:33.731 [FileTransfer-3] DEBUG nextflow.file.FilePorter - Copying foreign file /Users/nadyanovichkova/Projects/PhenoBiome2025/final-project/part2/data/gut_2.fq to work dir: s3://aws-nextflow-test-bucket/work/stage-f81a213d-5bfb-4968-85e8-05aaf68538bb/de/3ed0a8e63324fd4b354928ff53864d/gut_2.fq
Oct-17 14:49:33.737 [FileTransfer-2] DEBUG nextflow.file.FilePorter - Copying foreign file /Users/nadyanovichkova/Projects/PhenoBiome2025/final-project/part2/data/gut_1.fq to work dir: s3://aws-nextflow-test-bucket/work/stage-f81a213d-5bfb-4968-85e8-05aaf68538bb/45/94769312d213b46e441e1a1ac1ae12/gut_1.fq
Oct-17 14:49:33.884 [FileTransfer-2] DEBUG n.cloud.aws.nio.S3FileSystemProvider - S3 upload file from=/Users/nadyanovichkova/Projects/PhenoBiome2025/final-project/part2/data/gut_1.fq to=s3://aws-nextflow-test-bucket/work/stage-f81a213d-5bfb-4968-85e8-05aaf68538bb/45/94769312d213b46e441e1a1ac1ae12/gut_1.fq
Oct-17 14:49:33.885 [FileTransfer-3] DEBUG n.cloud.aws.nio.S3FileSystemProvider - S3 upload file from=/Users/nadyanovichkova/Projects/PhenoBiome2025/final-project/part2/data/gut_2.fq to=s3://aws-nextflow-test-bucket/work/stage-f81a213d-5bfb-4968-85e8-05aaf68538bb/de/3ed0a8e63324fd4b354928ff53864d/gut_2.fq
Oct-17 14:49:35.366 [Actor Thread 11] INFO  nextflow.file.FilePorter - Staging foreign file: /Users/nadyanovichkova/Projects/PhenoBiome2025/final-project/part2/data/transcriptome.fa
Oct-17 14:49:35.373 [Actor Thread 7] INFO  nextflow.file.FilePorter - Staging foreign file: /Users/nadyanovichkova/Projects/PhenoBiome2025/final-project/part2/data/gut_1.fq
Oct-17 14:49:37.379 [Actor Thread 7] INFO  nextflow.file.FilePorter - Staging foreign file: /Users/nadyanovichkova/Projects/PhenoBiome2025/final-project/part2/data/gut_2.fq
Oct-17 14:49:39.647 [AWSBatch-executor-1] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] [AWS BATCH] Created job definition name=nf-nextflow-rnaseq-nf:11; container=nextflow/rnaseq-nf
Oct-17 14:49:40.172 [AWSBatch-executor-1] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] Process `INDEX (1)` submitted > job=c1a60ef3-b20f-43a8-8300-b1d553acec3d; work-dir=s3://aws-nextflow-test-bucket/work/f8/68f96efcd1acb49b177005af50eb23
Oct-17 14:49:40.173 [AWSBatch-executor-1] INFO  nextflow.Session - [f8/68f96e] Submitted process > INDEX (1)
Oct-17 14:49:47.813 [AWSBatch-executor-3] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] Process `FASTQC (1)` submitted > job=fa4f625a-5371-4cf5-afeb-7740b356dd41; work-dir=s3://aws-nextflow-test-bucket/work/ae/c14e0724904f787eab90690269537a
Oct-17 14:49:47.814 [AWSBatch-executor-3] INFO  nextflow.Session - [ae/c14e07] Submitted process > FASTQC (1)
Oct-17 14:51:32.224 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: INDEX (1); status: COMPLETED; exit: 0; error: -; workDir: s3://aws-nextflow-test-bucket/work/f8/68f96efcd1acb49b177005af50eb23]
Oct-17 14:51:32.226 [Task monitor] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'TaskFinalizer' minSize=10; maxSize=30; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
Oct-17 14:51:32.367 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 2; name: FASTQC (1); status: COMPLETED; exit: 0; error: -; workDir: s3://aws-nextflow-test-bucket/work/ae/c14e0724904f787eab90690269537a]
Oct-17 14:51:34.657 [AWSBatch-executor-15] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] Process `QUANTIFICATION (1)` submitted > job=7c54a3a6-d96f-4e49-b99c-dd173a36eac3; work-dir=s3://aws-nextflow-test-bucket/work/c3/edd0537cd518de0259a70997564af6
Oct-17 14:51:34.658 [AWSBatch-executor-15] INFO  nextflow.Session - [c3/edd053] Submitted process > QUANTIFICATION (1)
Oct-17 14:52:02.539 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 3; name: QUANTIFICATION (1); status: COMPLETED; exit: 0; error: -; workDir: s3://aws-nextflow-test-bucket/work/c3/edd0537cd518de0259a70997564af6]
Oct-17 14:52:03.028 [TaskFinalizer-3] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'PublishDir' minSize=10; maxSize=30; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
Oct-17 14:52:06.648 [AWSBatch-executor-19] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] Process `MULTIQC` submitted > job=71cde022-2b56-4fff-a857-e819e78b53ec; work-dir=s3://aws-nextflow-test-bucket/work/fa/a1bc7836fd2147426bb2465a3788de
Oct-17 14:52:06.649 [AWSBatch-executor-19] INFO  nextflow.Session - [fa/a1bc78] Submitted process > MULTIQC
Oct-17 14:52:12.648 [PublishDir-1] DEBUG nextflow.processor.PublishDir - Failed to publish file: s3://aws-nextflow-test-bucket/work/c3/edd0537cd518de0259a70997564af6/gut; to: s3://aws-nextflow-test-bucket/results/gut [copy] -- attempt: 1; reason: the path: s3://aws-nextflow-test-bucket/results/gut/aux_info does not exist
Oct-17 14:52:32.133 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 4; name: MULTIQC; status: COMPLETED; exit: 0; error: -; workDir: s3://aws-nextflow-test-bucket/work/fa/a1bc7836fd2147426bb2465a3788de]
Oct-17 14:52:32.394 [PublishDir-1] DEBUG nextflow.processor.PublishDir - Failed to publish file: s3://aws-nextflow-test-bucket/work/c3/edd0537cd518de0259a70997564af6/gut; to: s3://aws-nextflow-test-bucket/results/gut [copy] -- attempt: 2; reason: the path: s3://aws-nextflow-test-bucket/results/gut/logs does not exist
Oct-17 14:52:32.661 [main] DEBUG nextflow.Session - Session await > all processes finished
Oct-17 14:52:41.524 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: awsbatch) - terminating tasks monitor poll loop
Oct-17 14:52:41.525 [main] DEBUG nextflow.Session - Session await > all barriers passed
Oct-17 14:52:41.528 [main] DEBUG nextflow.util.ThreadPoolManager - Thread pool 'TaskFinalizer' shutdown completed (hard=false)
Oct-17 14:52:41.528 [main] DEBUG nextflow.util.ThreadPoolManager - Thread pool 'PublishDir' shutdown completed (hard=false)
Oct-17 14:52:41.534 [main] INFO  nextflow.Nextflow - 
Done! Open the following report in your browser --> s3://aws-nextflow-test-bucket/results/multiqc_report.html

Oct-17 14:52:41.542 [main] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=4; failedCount=0; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=1m 2s; failedDuration=0ms; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=2; peakCpus=2; peakMemory=0; ]
Oct-17 14:52:41.736 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Oct-17 14:52:41.744 [main] INFO  org.pf4j.AbstractPluginManager - Stop plugin 'nf-amazon@2.15.0'
Oct-17 14:52:41.745 [main] DEBUG nextflow.plugin.BasePlugin - Plugin stopped nf-amazon
Oct-17 14:52:41.745 [main] DEBUG nextflow.util.ThreadPoolManager - Thread pool 'FileTransfer' shutdown completed (hard=false)
Oct-17 14:52:41.745 [main] DEBUG nextflow.util.ThreadPoolManager - Thread pool 'S3TransferManager' shutdown completed (hard=false)
Oct-17 14:52:41.746 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
